<body class="bg-cover bg-no-repeat bg-center background-image flex flex-col items-center">
    <div class="container mx-auto px-4 py-8">
        <div class="w-full text-white flex justify-center items-center flex-col pt-12 pb-32">
            <div class="max-w-4xl w-full">

                <!-- Header Section -->
                <div class="text-center mb-12">
                    <h1 class="text-3xl font-bold mb-6 bg-gradient-to-r from-customThree to-customEight bg-clip-text text-transparent">
                        How to Use ReduceCO2Today.org with Home Assistant to Build Green Automations
                    </h1>
                    <p class="text-xl text-gray-200 mb-4">
                        With ReduceCO2Today.org, you can connect real-time green energy forecasts to Home Assistant and build smart automations that save energy costs and reduce CO‚ÇÇ emissions.
                    </p>
                    <div class="w-24 h-1 bg-gradient-to-r from-customThree to-customEight mx-auto rounded-full"></div>
                </div>

                <!-- Tutorial Content -->
                <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20 shadow-2xl">

                    <!-- Prerequisites Section -->
                    <div class="mb-8">
                        <h2 class="text-2xl font-semibold mb-4 text-customThree">1Ô∏è‚É£ Prerequisites</h2>
                        <div class="space-y-3">
                            <div class="flex items-start space-x-3">
                                <div class="w-2 h-2 bg-customEight rounded-full mt-2 flex-shrink-0"></div>
                                <p class="text-gray-200">Home Assistant running (Docker, Raspberry Pi, or any supported platform)</p>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="w-2 h-2 bg-customEight rounded-full mt-2 flex-shrink-0"></div>
                                <p class="text-gray-200">Access to your <code>configuration.yaml</code> file</p>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="w-2 h-2 bg-customEight rounded-full mt-2 flex-shrink-0"></div>
                                <p class="text-gray-200">
                                    Obtain your API key from <a href="http://localhost:3000/api-registration" class="text-customThree underline">reduceCO2today.org</a>
                                </p>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="w-2 h-2 bg-customEight rounded-full mt-2 flex-shrink-0"></div>
                                <p class="text-gray-200">
                                    Find your (<a href="https://portal.electricitymaps.com/developer-hub/api/getting-started#geographical-coverage" class="text-customThree underline">Country Code</a>) and keep it handy
                                </p>
                        </div>
                    </div>

                    <!-- Add Sensors Section -->
                    <div class="mb-8">
                        <h2 class="text-2xl font-semibold mb-4 text-customThree">2Ô∏è‚É£ Add the ReduceCO2Today Sensors</h2>
                        <p class="text-gray-300 mb-4">
                            We‚Äôll create <strong>REST sensors</strong> that pull green band forecasts from the ReduceCO2Today API.
                        </p>
                        <div class="bg-gray-800/50 rounded-lg p-4 border border-gray-600 mb-4">
                            <p class="text-gray-300 mb-3">
                                üìÇ <strong>Steps:</strong>
                                <ol class="list-decimal list-inside">
                                    <li>Open your Home Assistant <code>configuration.yaml</code> in an editor.</li>
                                    <li>Paste the <strong>sensor configuration</strong> (download: <a href="/tutorial3_yaml_files/green_band_sensors.yaml" class="text-customThree underline">green_band_sensors.yaml</a>).</li>
                                    <li>Save the file and <strong>restart Home Assistant</strong>.</li>
                                </ol>
                            </p>
                            <p class="text-gray-300">
                                üîç After restart, check in <strong>Developer Tools ‚Üí States</strong> for:
                                <ul class="list-disc list-inside">
                                    <li><code>sensor.green_band_1_start</code> ‚Üí Start time of first green period</li>
                                    <li><code>sensor.green_band_1_end</code> ‚Üí End time of first green period</li>
                                    <li><code>sensor.green_band_2_start</code> / <code>_end</code> ‚Üí Second green period</li>
                                    <li><code>sensor.green_band_3_start</code> / <code>_end</code> ‚Üí Third green period</li>
                                </ul>
                            </p>
                        </div>
                    </div>

                    <!-- Create Dummy Washing Machine Section -->
                    <div class="mb-8">
                        <h2 class="text-2xl font-semibold mb-4 text-customThree">3Ô∏è‚É£ Create a Dummy Washing Machine (for Testing)</h2>
                        <p class="text-gray-300 mb-4">
                            If you don‚Äôt have a smart plug yet, you can simulate your washing machine with a <strong>template switch</strong>.
                        </p>
                        <div class="bg-gray-800/50 rounded-lg p-4 border border-gray-600 mb-4">
                            <p class="text-gray-300">
                                üìÇ Add the dummy switch configuration (download: <a href="/tutorial3_yaml_files/dummy_washing_machine.yaml" class="text-customThree underline">dummy_washing_machine.yaml</a>) to your <code>configuration.yaml</code>, then restart.
                            </p>
                            <p class="text-gray-300">
                                You should now see <code>switch.washing_machine</code> in <strong>Developer Tools ‚Üí States</strong>.
                            </p>
                        </div>
                    </div>

                    <!-- Build Automation Section -->
                    <div class="mb-8">
                        <h2 class="text-2xl font-semibold mb-4 text-customThree">4Ô∏è‚É£ Build the Green Automation</h2>
                        <p class="text-gray-300 mb-4">
                            Now we‚Äôll create an automation that <strong>turns on the washing machine at the start of the green period</strong>.
                        </p>
                        <div class="bg-gray-800/50 rounded-lg p-4 border border-gray-600 mb-4">
                            <p class="text-gray-300">
                                üìÇ Download the automation file: <a href="/tutorial3_yaml_files/automation_green_washing_machine.yaml" class="text-customThree underline">automation_green_washing_machine.yaml</a> and add it via:
                                <ul class="list-disc list-inside">
                                    <li><strong>Option A:</strong> Paste it directly into <code>automations.yaml</code></li>
                                    <li><strong>Option B:</strong> Go to <strong>Settings ‚Üí Automations & Scenes ‚Üí Add Automation ‚Üí Edit in YAML</strong> and paste the code (without the top <code>automation:</code> key).</li>
                                </ul>
                            </p>
                        </div>
                    </div>

                    <!-- Add Automation to Dashboard Section -->
                    <div class="mb-8">
                        <h2 class="text-2xl font-semibold mb-4 text-customThree">5Ô∏è‚É£ Add Automation to Dashboard</h2>
                        <p class="text-gray-300 mb-4">
                            To control and monitor your automation:
                        </p>
                        <div class="bg-gray-800/50 rounded-lg p-4 border border-gray-600 mb-4">
                            <ol class="list-decimal list-inside text-gray-300">
                                <li>Go to <strong>Dashboards ‚Üí Edit Dashboard ‚Üí Add Card</strong></li>
                                <li>Choose <strong>Entities card</strong></li>
                                <li>Add <code>automation.green_energy_automation</code></li>
                            </ol>
                        </div>
                    </div>

                    <!-- Test Setup Section -->
                    <div class="mb-8">
                        <h2 class="text-2xl font-semibold mb-4 text-customThree">6Ô∏è‚É£ Test the Setup</h2>
                        <p class="text-gray-300 mb-4">
                            If the current time matches the forecasted <em>green start time</em>, the washing machine will automatically turn on. You‚Äôll also see a notification confirming that the automation ran.
                        </p>
                    </div>

                    <!-- Conclusion Section -->
                    <div class="mt-8 pt-8 border-t border-white/20">
                        <h2 class="text-2xl font-semibold mb-4 text-customThree">That‚Äôs it!</h2>
                        <p class="text-gray-300">
                            You‚Äôve successfully connected <strong>ReduceCO2Today.org</strong> with Home Assistant and built your first <strong>green automation</strong>.
                        </p>
                        <p class="text-gray-300">
                            From here, you can:
                            <ul class="list-disc list-inside">
                                <li>Extend the same logic to dishwashers, EV chargers, or heating systems</li>
                                <li>Combine with energy dashboards for full CO‚ÇÇ tracking</li>
                                <li>Share your automations with the community</li>
                            </ul>
                        </p>
                    </div>

                </div>

                <!-- Navigation -->
                <div class="mt-8 text-center">
                    <a href="/homeassistant" class="inline-block bg-white/10 hover:bg-white/20 text-white font-semibold py-2 px-4 rounded-lg transition-all duration-200">
                        ‚Üê Back to Tutorials
                    </a>
                </div>

            </div>
        </div>
    </div>
    <script type="module" src="/js/main2.js"></script>
</body>